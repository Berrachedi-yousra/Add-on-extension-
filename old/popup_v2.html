<html>
  <head>
    <title>test</title>

    <script type="text/javascript" src="https://code.jquery.com/jquery-1.7.1.min.js">
/*
        $(document).ready(function(){
          var e1 = document.getElementById("srclng");

          $(e1).click(function(e){
              settings.data.source = $(this).value;
              //fetchTranslation();
              //console.log($(this).html());
            }
          );
        });

        $(document).ready(function(){
          var e2 = document.getElementById("dstlng");

          $(e2).click(function(e){
              settings.data.target = $(this).value;
              
              //console.log($(this).html());
            }
          );
        });

        fetchTranslation();

        var settings = {
          "async": true,
          "crossDomain": true,
          "url": "https://google-translate1.p.rapidapi.com/language/translate/v2",
          "method": "POST",
          "headers": {
            "x-rapidapi-host": "google-translate1.p.rapidapi.com",
            "x-rapidapi-key": "835a861d42mshe64d92ace5788bbp160bdejsn5cfdd4ca312a",
            "content-type": "application/x-www-form-urlencoded"
          },
          "data": {
            "source": "",
            "q": selected,
            "target": "",
            "result": ""
          }
        }
        console.log(data.q);

        function fetchTranslation(){
          $.ajax(settings).done(function (response) {       
            console.log(response.data);
            var translatedText = response.data.translations[0].translatedText;
          });
        }
*/

    </script>

  </head>
  <body>

    <script >

      function urlfinder(){

        selected = window.getSelection().toString();
        console.log(selected);
        var e1 = document.getElementById("srclng");
        var e2 = document.getElementById("dstlng");
        console.log(e1.value);
        console.log(e2.value);

        var e1 = document.getElementById("srclng");
        var e2 = document.getElementById("dstlng");

        /*var url = "https://google-translate1.p.rapidapi.com/language/translate/v2?key=835a861d42mshe64d92ace5788bbp160bdejsn5cfdd4ca312a";
            url += "&source=" + e1.value;
            url += "&target=" + e2.value;
            url += "&q=" + selected;
            $.get(url, function (data, status) {
                console.log(data.data.translations[0].translatedText);
            });*/
        
      }
    </script>

      <select id="srclng">
        <option value="eng" selected>English</option>
        <option value="fr">French</option>
        <option value="ar">Arabic</option>
        <option value="zh">Chinese</option>
      </select>

      <select id="dstlng">
        <option value="eng">English</option>
        <option value="fr">French</option>
        <option value="ar" selected>Arabic</option>
        <option value="zh">Chinese</option>
      </select>

      <button onclick="urlfinder()">Translate</button>

      <p>It becomes easy when we try to improve</p>

<%
  import requests, uuid, json

# Add your subscription key and endpoint
subscription_key = "4dae4619a49342d9844abb2dfaff41d8"
endpoint = "https://api.cognitive.microsofttranslator.com"

# Add your location, also known as region. The default is global.
# This is required if using a Cognitive Services resource.
location = "northeurope"

path = '/translate'
constructed_url = endpoint + path

params = {
    'api-version': '3.0'
    'from': 'en'
    'to': ['de', 'it']
}
constructed_url = endpoint + path

headers = {
    'Ocp-Apim-Subscription-Key': subscription_key
    'Ocp-Apim-Subscription-Region': location
    'Content-type': 'application/json'
    'X-ClientTraceId': str(uuid.uuid4())
}

# You can pass more than one object in body.
body = [{
    'text': 'Hello World!'
}]

request = requests.post(constructed_url, params=params, headers=headers, json=body)
response = request.json()

print(json.dumps(response, sort_keys=True, ensure_ascii=False, indent=4, separators=(',', ': ')))
%>


  </body>
</html>